---
import Anchor from "./Anchor.astro";
import AnchorIcon from "./AnchorIcon.astro";
---

<header
  class="rounded-3xl bg-[#d5eef1] justify-between py-4 px-12 mt-10 mb-4 mx-20 hidden lg:flex shadow-md"
>
  <section class="flex gap-6">
    <article class="flex gap-2">
      <AnchorIcon img="/icons/whatsapp.svg" href="" />
      <span>Whatsapp<br />consultas e informac√≠on</span>
    </article>
    <article class="flex gap-2">
      <AnchorIcon img="/icons/whatsapp.svg" href="" />
      <span>Central telefonica<br />281-0594 / 991 351 239</span>
    </article>
  </section>
  <section class="flex gap-4 items-center">
    <AnchorIcon img="/icons/whatsapp.svg" href="" />
    <AnchorIcon img="/icons/whatsapp.svg" href="" />
    <AnchorIcon img="/icons/whatsapp.svg" href="" />
  </section>
</header>
<nav
  class="sticky top-[-1px] pt-[calc(1em + 1px)] px-10 flex justify-between z-50 py-2 rounded-b-xl"
  id="hdr"
>
  <a href="/" class="flex items-center gap-4">
    <img
      src="/public/img/main-icon.webp"
      alt=""
      class="rounded-full aspect-square h-20"
    />
    <span class="text-xl font-semibold uppercase"
      >Centro medico<br />La Trinidad</span
    >
  </a>
  <ul class="hidden lg:flex gap-4 items-center">
    <Anchor text="Inicio" href="/" />
    <Anchor text="Servicios" href="/servicios" />
    <Anchor text="Nosotros" href="/nosotros" />
    <Anchor text="Contactanos" href="/notas-de-prensa" />
  </ul>
</nav>
<script is:inline>
  const head = document.querySelector('#hdr');
  if (head) {
    const observer = new IntersectionObserver(
      ([e]) => e.target.classList.toggle('isSticky', e.intersectionRatio < 1),
      { threshold: [1] }
    );
    observer.observe(head);
  }
</script>
<style>
  #hdr.isSticky{
    background-color: white;
    box-shadow: 0 10px 10px #0000001a;
    border-bottom-right-radius: 20px;
    border-bottom-left-radius: 20px;
    padding-left: 5rem;
    padding-right: 5rem;
  }
</style>
<!-- <input type="checkbox" id="sidebar" class="hidden">
<label for="sidebar" class="open fixed hover:bg-white hover:scale-110 ease-in-out duration-300 hover:bg-opacity-10 rounded-md right-8 md:right-12 top-10 z-20 lg:hidden">
    <img src="/public/img/icons/menu.svg" alt="">
</label>
<label for="sidebar" class="close fixed hover:bg-white hover:scale-110 ease-in-out duration-300 hover:bg-opacity-10 rounded-md right-8 md:right-12 top-10 z-20 hidden">
    <img src="/public/img/icons/close.svg" alt="">
</label>
<nav class="lateral fixed right-0 top-28 z-20 w-full md:w-64 bg-black bg-opacity-10 backdrop-blur-sm shadow-md rounded-2xl hidden">
    <ul class="flex flex-col gap-6 m-6 text-center">
        <Anchor text="Inicio" href="/"/>
        <Anchor text="Servicios" href="/servicios"/>
        <Anchor text="Nosotros" href="/nosotros"/>
        <Anchor text="Contactanos" href="/notas-de-prensa"/>
    </ul>
</nav>
<header class="sticky top-0 flex w-full justify-between z-10 px-8 md:px-12 pt-3 items-center bg-transparent backdrop-blur-sm">
    <a href="/" class="flex items-center">
        <img src="/public/img/Header/main-icon.webp" alt="" class="rounded-full aspect-square h-20"/>
        <span class="ml-4 text-xl font-semibold uppercase">Centro medico<br>La Trinidad</span>
    </a>
    <nav class="hidden lg:block">
        <ul class="flex gap-4">
            <Anchor text="Inicio" href="/"/>
            <Anchor text="Servicios" href="/servicios"/>
            <Anchor text="Nosotros" href="/nosotros"/>
            <Anchor text="Contactanos" href="/notas-de-prensa"/>
        </ul>
    </nav>
</header> -->
<!-- <style>
    #sidebar:checked ~ .lateral{
        display: block;
    }
    #sidebar:checked ~ .open{
        display: none;
    }
    #sidebar:checked ~ .close{
        display: block
    }
</style> -->
